server:
  port: 2333
  address: 0.0.0.0

lavalink:
  server:
    # Disable core sources you don't want. We will use the YouTube PLUGIN instead.
    sources:
      youtube: false        # ❌ turn OFF built-in lavaplayer YouTube
      soundcloud: false
      bandcamp: false
      http: false
      twitch: false
      vimeo: false
      local: false
    password: "youshallnotpass"
    resumable: true
    resume-timeout: 60

plugins:
  # ✅ YouTube plugin ONLY
  youtube:
    enabled: true
    # Use only clients that don't hit WEB's fragile cipher/login
    # Try TVHTML5EMBEDDED first (most reliable without OAuth), then others
    clients:
      - TVHTML5EMBEDDED    # Try this first - often works without OAuth
      - MUSIC               # YouTube Music - may work without full OAuth
      - ANDROID             # May require OAuth for some videos
      - ANDROID_MUSIC       # May require OAuth for some videos
    # Keep WEB out of the list. If you ever re-add WEB, you must run a remote cipher.
    # Enable OAuth to handle "Please sign in" errors from ANDROID clients
    # Note: May need Google OAuth credentials for full functionality
    oauth:
      enabled: true   # Enable to handle authentication-required videos

  # ✅ Spotify catalog, mirror to YouTube ONLY
  lavasrc:
    sources:
      spotify: true
      deezer: false
      applemusic: false
    # Provider order limited to YouTube (two strategies)
    providers:
      - "ytsearch:\"%ISRC%\""   # try YouTube by ISRC first (cleanest match)
      - "ytsearch:%QUERY%"      # then fall back to normal YouTube search
    spotify:
      clientId: "${SPOTIFY_CLIENT_ID}"
      clientSecret: "${SPOTIFY_CLIENT_SECRET}"
      countryCode: "US"
      playlistLoadLimit: 6
      albumLoadLimit: 6

logging:
  level:
    root: INFO
    lavalink: DEBUG
    lavalink.server.io.SocketContext: TRACE
