server:
  port: 2333
  address: 0.0.0.0

lavalink:
  server:
    password: "youshallnotpass"
    # Performance optimizations with longer buffers for stream stability
    bufferDurationMs: 800  # Increased buffer to handle stream URL refreshes (800ms)
    frameBufferDurationMs: 10000  # Larger audio buffer to prevent interruptions (10 seconds)
    playerUpdateInterval: 5  # Player state update interval in ms (lower = more responsive)
    resamplingQuality: "HIGH"  # Audio quality: LOW, MEDIUM, HIGH
    trackStuckThresholdMs: 20000  # Consider track stuck after 20 seconds of no audio
    sources:
      youtube: false  # Disabled - using YouTube Source Plugin instead (built-in is deprecated)
      youtubeMusic: false  # Disabled - using YouTube Source Plugin instead
      bandcamp: true
      soundcloud: true
      twitch: true
      vimeo: true
      http: true
      local: false
      spotify: true  # Enable Spotify with lavasrc plugin

  plugins:
    # LavaSrc (mirrors Spotify/Apple to direct sources like Deezer/SoundCloud)
    # Using stable version with stream handling improvements
    - dependency: "com.github.topi314.lavasrc:lavasrc-plugin:4.8.1"
      repository: "https://maven.lavalink.dev/releases"
      snapshot: false
    # YouTube Source Plugin (replaces deprecated built-in YouTube source)
    # NOTE: Using local JAR file from plugins/ folder (youtube-plugin-1.13.5.jar)
    # No Maven dependency needed since JAR is downloaded locally

plugins:
  lavasrc:
    sources:
      spotify: true  # Enable Spotify playback
    spotify:
      clientId: "c1508ebfbb1845adaab4e294679977df"
      clientSecret: "7b4a880641b34db381a27412ebf6cc53"
      countryCode: "US"
    # Provider order: Try SoundCloud first (more reliable), then Deezer, then YouTube as fallback
    providers:
      - 'scsearch:%QUERY%'   # SoundCloud search (most reliable for full playback)
      - 'dzisrc:%ISRC%'      # Deezer via ISRC
      - 'dzsearch:%QUERY%'   # Deezer search
      - 'ytsearch:%QUERY%'   # YouTube as final fallback (works with our YouTube plugin)
  youtube:
    enabled: true
    allowSearch: true
    allowDirectVideoIds: true
    allowDirectPlaylistIds: true
    clients:
      - MUSIC
      - ANDROID_VR
      - WEB
      - WEBEMBEDDED

logging:
  level:
    root: INFO
    lavalink: INFO
