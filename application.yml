server:
  port: 2333
  address: 0.0.0.0

lavalink:
  server:
    # Disable built-in YouTube source - it fails with cipher extraction errors
    # YouTube plugin handles this better
    sources:
      youtube: false
      soundcloud: false
      bandcamp: false
      http: false
      twitch: false
      vimeo: false
      local: false
    password: "youshallnotpass"
    resumable: true
    resume-timeout: 60

plugins:
  # YouTube plugin - handles cipher extraction better than built-in source
  youtube:
    enabled: true
    clients:
      - WEB_REMIX        # Good for music, less auth issues
      - TVHTML5EMBEDDED  # Embedded player client
      - MUSIC            # YouTube Music client

  # ✅ Spotify catalog → mirror to YouTube (and nothing else)
  lavasrc:
    sources:
      spotify: true
      deezer: false
      applemusic: false
    # Providers - try YouTube Music first (better for music, less auth issues)
    providers:
      - "ytmsearch:\"%QUERY%\""      # YouTube Music search (best for music)
      - "ytsearch:\"%QUERY%\""        # Fallback to regular YouTube
    spotify:
      clientId: "${SPOTIFY_CLIENT_ID}"
      clientSecret: "${SPOTIFY_CLIENT_SECRET}"
      countryCode: "US"
      playlistLoadLimit: 6
      albumLoadLimit: 6

logging:
  level:
    root: INFO
    lavalink: DEBUG
    lavalink.server.io.SocketContext: TRACE
